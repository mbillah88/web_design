{% extends "business_apps/master.html" %}

{% block title %}
  SLT | Dashboard
{% endblock %}

{% block header %}
Dashboard
{% endblock %}

{% block breadcrumbs %}
{% url 'slt:business' as url %}
<div style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E&#34;);" aria-label="breadcrumb">
  <ul style="display: flex; flex-wrap: wrap; margin-bottom: 0; padding-left: 0;">
    <li class="breadcrumb-item"><a href="{{url}}">Home</a></li>
    <li class="breadcrumb-item active" aria-current="page"> Dashboard</li>
  </ul>
</div>
{% endblock %}
    

{% block content %}
{% if messages %}
<div class="alert alert-primary" role="alert">
    {% for message in messages %}
    {{ message }}
    {% endfor %}
</div>
{% endif %}

<div class="main-content">
    <div style=" gap: 1rem;" class="content d-flex sm-2;">
        <div class="content" style="background-color: #1a2ae399;display: flex;
        flex-direction: column; gap: .5rem; text-align: center;border-left: 10px solid blue;
        border-bottom: 10px solid blue;">     
            <div style="flex: 50%;">
                <h5 style="color: wheat;background-color: blue;padding: .5rem; border: 1px solid wheat;">Sales Todays</h5>
            </div>         
            <div style="flex: 50%;">
                <div> Order : <span>{{total_sales_orders}}</span></div>
                <div> Item : <span>{{total_sales_items}}</span></div>
                <div> Amount : <span>{{total_sales_amount}}</span></div>
            </div> 
        </div>
        <div class="content" style="background-color: #9f0d9fab;display: flex;
        flex-direction: column; gap: .5rem; text-align: center;border-left: 10px solid blue;
        border-bottom: 10px solid blue;">      
            <div style="flex: 50%;">
                <h5 style="color: wheat;background-color: #ff00cbb5;padding: .5rem; border: 1px solid wheat;">Purchase Todays</h5>
            </div>              
            <div style="flex: 50%;">
                <span> Order : {{total_purchase_orders}}</span> <br>
                <span> Item : {{total_purchase_items}}</span> <br>
                <span> Amount : {{total_purchase_amount}}</span> 
            </div>
        </div>
        <div class="content" style="background-color: #1a2ae399; display: flex;
        flex-direction: column; gap: .5rem; text-align: center;border-left: 10px solid blue;
        border-bottom: 10px solid blue;">               
            <div style="flex: 50%;">
                <h5 style="color: wheat;background-color: blue;padding: .5rem; border: 1px solid wheat;">Service Todays</h5>
            </div>             
            <div style="flex: 50%;">
                <h3>555</h3>
            </div>
        </div>
        <div class="content" style="background-color: #9f0d9fab;display: flex;
        flex-direction: column; gap: .5rem; text-align: center;border-left: 10px solid blue;
        border-bottom: 10px solid blue;">               
            <div style="flex: 50%;">
                <h5 style="color: wheat;background-color: #ff00cbb5;padding: .5rem; border: 1px solid wheat;">Project Todays</h5>
            </div>          
            <div style="flex: 50%;">
                <h3>987654321</h3>
            </div>
        </div>

    </div>
</div>

<div class="main-content">
    <div class="content">                
        <h5>Todays Sales</h5>
        <table>
            <thead>
                <tr>
                    <th>Product ID</th>
                    <th>Product Name</th>
                    <th>Total Qty </th>
                    <th>Total Amt</th>
                </tr>
            </thead>
            <tbody>
                {% for item in sales_summary_today %}
                    <tr>
                        <td>{{ item.item_id__id }}</td>
                        <td>{{ item.item_id__item_name }}</td>
                        <td>{{ item.total_sold_quantity }}</td>
                        <td>{{ item.total_sold_amount }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="content">
        <h5>Todays Purchase</h5>
        <table>
            <thead>
                <tr>
                    <th>Product ID</th>
                    <th>Product Name</th>
                    <th>Total Qty </th>
                    <th>Total Amt</th>
                </tr>
            </thead>
            <tbody>
                {% for item in purchase_summary_today %}
                    <tr>
                        <td>{{ item.item_id__id }}</td>
                        <td>{{ item.item_id__item_name }}</td>
                        <td>{{ item.total_purchased_quantity }}</td>
                        <td>{{ item.total_purchased_amount }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<div class="main-content">
    <div class="content">                
        <h4>Sales Samary</h4>
        <table>
            <thead>
                <tr>
                    <th>Product ID</th>
                    <th>Product Name</th>
                    <th>Total Qty </th>
                    <th>Total Amt</th>
                </tr>
            </thead>
            <tbody>
                {% for item in sales_summary %}
                    <tr>
                        <td>{{ item.item_id__id }}</td>
                        <td>{{ item.item_id__item_name }}</td>
                        <td>{{ item.total_sold_quantity }}</td>
                        <td>{{ item.total_sold_amount }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="content">
        <h4>Purchase Summary</h4>
        <table>
            <thead>
                <tr>
                    <th>Product ID</th>
                    <th>Product Name</th>
                    <th>Total Qty </th>
                    <th>Total Amt</th>
                </tr>
            </thead>
            <tbody>
                {% for item in purchase_summary %}
                    <tr>
                        <td>{{ item.item_id__id }}</td>
                        <td>{{ item.item_id__item_name }}</td>
                        <td>{{ item.total_purchased_quantity }}</td>
                        <td>{{ item.total_purchased_amount }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

    
<div class="main-content" style="background-color: #9f0d9fab;display: flex;
flex-direction: column; gap: .5rem; text-align: center;border-left: 10px solid blue;
border-bottom: 10px solid blue;">             
    <h4>Product Summary</h4>
        <table>
            <thead>
                <tr>
                    <th>SL</th>
                    <th>Product ID</th>
                    <th>Product Name</th>
                    <th>Purchase Qty </th>
                    <th>Purchase Amt</th>
                    <th>Sales Qty </th>
                    <th>Sales Amt</th>
                    <th>Available Qty</th>
                </tr>
            </thead>
            <tbody>
                {% for item in inventory_summary %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ item.item_id }}</td>
                        <td>{{ item.item_name }}</td>
                        <td>{{ item.total_purchased_quantity }}</td>
                        <td>{{ item.total_purchased_amount }}</td>
                        <td>{{ item.total_sold_quantity }}</td>
                        <td>{{ item.total_sold_amount }}</td>
                        <td>{{ item.remaining_quantity }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
</div>
{% endblock %}